---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
---

<header class="fixed w-full z-50 bg-[#2c3e50]/95 backdrop-blur-sm border-b border-[#3d5a80]/20">
	<nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		<div class="flex items-center justify-between h-16">
			<!-- Title/Logo Section -->
			<div class="flex-shrink-0">
				<a href="/" class="flex items-center space-x-2 text-[#e0e7e9] font-bold text-xl group">
					<img 
						src="/vtsc-background.jpg" 
						alt="VSCC Logo" 
						class="h-8 w-8 animate-spiral-grow rounded-full"
					/>
					<span class="group-hover:text-[#98c1d9] transition-colors">{SITE_TITLE}</span>
				</a>
			</div>
			
			<!-- Navigation Links -->
			<div class="flex-1 flex items-center justify-end">
				<div class="flex items-center justify-between min-w-[600px]">
					<HeaderLink href="/projects" class="text-[#e0e7e9] hover:text-[#98c1d9] transition-colors">DeFi Simplified</HeaderLink>
					<HeaderLink href="/research" class="text-[#e0e7e9] hover:text-[#98c1d9] transition-colors">Research</HeaderLink>
          <HeaderLink href="/blog" class="text-[#e0e7e9] hover:text-[#98c1d9] transition-colors">Blog</HeaderLink>
            
            <!-- Company Dropdown -->
            <div class="relative group">
                <button class="flex items-center text-[#e0e7e9] hover:text-[#98c1d9] transition-colors duration-300">
                    Company
                    <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
					
					<!-- Dropdown Menu -->
					<div class="absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-[#2c3e50] ring-1 ring-[#3d5a80]/20 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
						<div class="py-1">
							<a href="/about" class="block px-4 py-2 text-sm text-[#e0e7e9] hover:bg-[#3d5a80]/30 hover:text-[#98c1d9]">
								About
							</a>
							<a href="/contact" class="block px-4 py-2 text-sm text-[#e0e7e9] hover:bg-[#3d5a80]/30 hover:text-[#98c1d9]">
								Contact Us
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</nav>
</header>

<style>
  @keyframes spiralGrow {
    0% {
      transform: rotate(0deg) scale(0);
    }
    50% {
      transform: rotate(360deg) scale(0.5);
    }
    100% {
      transform: rotate(720deg) scale(1);
    }
  }

  .animate-spiral-grow {
    animation: spiralGrow 2s ease-out forwards;
  }

	[aria-current='page'] {
		color: #98c1d9;
		position: relative;
	}

	[aria-current='page']::after {
		content: '';
		position: absolute;
		bottom: -2px;
		left: 0;
		width: 100%;
		height: 2px;
		background-color: #98c1d9;
		transform: scaleX(0);
		transition: transform 0.3s ease-in-out;
	}

	[aria-current='page']:hover::after {
		transform: scaleX(1);
	}
</style>

<!-- <script>
	// Optional: Add click handler for mobile dropdown
	const dropdownButton = document.querySelector('.group button');
	const dropdownMenu = document.querySelector('.group div[class*="absolute"]');

	// Close dropdown when clicking outside
	document.addEventListener('click', (event) => {
		if (!event.target || !event.currentTarget) {
			dropdownMenu?.classList.remove('group-hover:visible', 'group-hover:opacity-100');
		}
	});
</script> -->